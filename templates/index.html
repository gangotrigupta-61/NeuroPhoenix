<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="./static/images/finallogo.png">
<title>NeuroPhoenix</title>
<style>
body {
  margin: 0;
  height: 400vh; /* extend page for scroll */
  font-family: "Poppins", sans-serif;
  overflow-x: hidden;
  background: black;
}

/* Video */
.scroll-container {
  position: relative;
  height: 100vh;
  overflow: hidden;
}
.scroll-container video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: fixed;
  top: 0;
  left: 0;
  z-index: -1;
}

/* Overlay text */
.overlay-text {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.9);
  opacity: 0;
  transition: opacity 1s ease, transform 1s ease;
  max-width: 90%;
  text-align: center;
  font-weight: 600;
  font-size: 3vw;
  line-height: 1.6;
  pointer-events: none;

  /* Box styling */
  background: rgba(255,255,255,0.8);
  color: black;
  padding: 20px 30px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

/* Button styling */
.get-started {
  display: inline-block;
  padding: 15px 35px;
  font-size: 1.5rem;
  font-weight: bold;
  border: none;
  border-radius: 10px;
  background: linear-gradient(135deg, #ff5f6d, #ffc371);
  color: black;
  cursor: pointer;
  text-decoration: none;
  margin-top: 20px;
  animation: pulse 2s infinite;
  pointer-events: auto; /* enable click */
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* Visible state */
.visible { opacity:1; transform: translate(-50%, -50%) scale(1.05); }

/* Exit animations */
.exit-left   { transform: translate(-120%, -50%) scale(0.9); opacity:0; }
.exit-right  { transform: translate(20%, -50%) scale(0.9); opacity:0; }
.exit-bottom { transform: translate(-50%, 20%) scale(0.9); opacity:0; }

/* Sound toggle button */
#soundToggle {
  position: fixed;
  bottom: 20px; 
  right: 20px; 
  padding: 10px 20px; 
  border-radius: 8px; 
  border: none; 
  background: #FFD369; 
  font-weight: bold;
  cursor: pointer;
  z-index: 999;
}

/* Scroll Indicator */
.scroll-indicator {
  position: fixed;
  bottom: 70px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 1000;
  animation: fadeIn 2s ease-in-out forwards;
  pointer-events: none;
}

.scroll-indicator .circle {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(6px);
  padding: 15px 25px;
  border-radius: 30px;
  text-align: center;
  color: white;
  box-shadow: 0 0 15px rgba(255,255,255,0.6);
  animation: glow 2s infinite alternate;
}

.scroll-indicator span {
  display: block;
  margin-bottom: 8px;
  font-size: 1.3rem;
  font-weight: bold;
  letter-spacing: 2px;
}

/* Arrow */
.scroll-indicator .arrow {
  width: 25px;
  height: 25px;
  border-left: 4px solid white;
  border-bottom: 4px solid white;
  transform: rotate(-45deg);
  margin: 0 auto;
  animation: bounce 1.5s infinite;
}

/* Animations */
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% { transform: translateY(0) rotate(-45deg); }
  40% { transform: translateY(12px) rotate(-45deg); }
  60% { transform: translateY(6px) rotate(-45deg); }
}

@keyframes glow {
  from { box-shadow: 0 0 10px #00e6e6, 0 0 20px #00e6e6; }
  to   { box-shadow: 0 0 15px #ff5f6d, 0 0 30px #ffc371; }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateX(-50%) translateY(20px); }
  to { opacity: 1; transform: translateX(-50%) translateY(0); }
}

/* ---------------- RESPONSIVE ---------------- */
@media (max-width: 1024px){
  .overlay-text { font-size: 4vw; padding: 18px 25px; }
  .get-started { font-size: 1.3rem; padding: 12px 28px; }
}

@media (max-width: 768px){
  .overlay-text { font-size: 4.5vw; padding: 15px 20px; }
  .get-started { font-size: 1.1rem; padding: 10px 22px; }
  #soundToggle { padding: 8px 16px; font-size: 0.9rem; bottom: 15px; right: 15px; }
}

@media (max-width: 480px){
  .overlay-text { font-size: 5vw; padding: 12px 18px; border-radius: 10px; }
  .get-started { font-size: 1rem; padding: 8px 18px; border-radius: 8px; }
  #soundToggle { padding: 6px 12px; font-size: 0.8rem; bottom: 10px; right: 10px; }
}
</style>
</head>
<body>

<section class="scroll-container">
  <video id="scrollVideo" muted autoplay playsinline preload="auto" loop>
    <source src="{{ url_for('static', filename='video/youth.mp4') }}" type="video/mp4">
    Your browser does not support the video tag.
  </video>
</section>

<!-- Background Music -->
<audio id="bgMusic" loop>
  <source src="{{ url_for('static', filename='audio/music.mp3') }}" type="audio/mpeg">
</audio>
<button id="soundToggle">üîä Enable Sound</button>

<!-- Scroll Down Indicator -->
<div class="scroll-indicator" id="scrollHint">
  <div class="circle">
    <span>Scroll Please!!</span>
    <div class="arrow"></div>
  </div>
</div>

<!-- Overlay Texts -->
<div id="text1" class="overlay-text">üå± You are not alone.</div>
<div id="text2" class="overlay-text">üíô Mental health matters as much as physical health.</div>
<div id="text3" class="overlay-text">ü§ù Reaching out for help is a sign of strength.</div>
<div id="text4" class="overlay-text">
  üåç Together, we can break the stigma.<br><br>
  <a href="{{ url_for('auth') }}" class="get-started">Get Started</a>
</div>

<script>
  const video = document.getElementById("scrollVideo");
  const texts = [
    document.getElementById("text1"),
    document.getElementById("text2"),
    document.getElementById("text3"),
    document.getElementById("text4")
  ];

  video.addEventListener("loadedmetadata", () => {
    const duration = video.duration;

    window.addEventListener("scroll", () => {
      const scrollTop = window.scrollY;
      const maxScroll = document.body.scrollHeight - window.innerHeight;
      const scrollFraction = scrollTop / maxScroll;

      // Sync video with scroll
      video.currentTime = duration * scrollFraction;

      // Animate texts
      texts.forEach((text,index)=>{
        const start = index*0.25;
        const end = start+0.25;
        if(scrollFraction>=start && scrollFraction<end){
          text.classList.add("visible");
          text.classList.remove("exit-left","exit-right","exit-bottom");
        } else {
          text.classList.remove("visible");
          if(scrollFraction<start) text.classList.add("exit-left");
          else text.classList.add(index%2===0?"exit-right":"exit-bottom");
        }
      });
    });
  });

  // Handle background music toggle 
  const music = document.getElementById("bgMusic");
  const toggle = document.getElementById("soundToggle");

  toggle.addEventListener("click", () => {
    if (music.paused) {
      music.play();
      toggle.textContent = "üîà Sound On";
    } else {
      music.pause();
      toggle.textContent = "üîä Enable Sound";
    }
  });

  // Hide scroll hint after scrolling
  const hint = document.getElementById("scrollHint");
  window.addEventListener("scroll", () => {
    if (window.scrollY > 50) {
      hint.style.opacity = "0";
      hint.style.transition = "opacity 0.5s ease";
    } else {
      hint.style.opacity = "1";
    }
  });
</script>
</body>
</html>